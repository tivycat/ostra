<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/status-report.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins" rel="stylesheet">
  <title>Östra gymnasiet - Lägesrapportering</title>
</head>

<body data-page="statistics">
  <div class="container">
    <nav class="nav">
      <div class="nav__logo">
        <a href="../index.html">
          <h4 class="nav__title nav__title--thin">
            <span class="nav__title nav__title--emphasized">ÖSTRA</span>gymnasiet
          </h4>
          <span class="nav__subtitle">Studielägesrapportering</span>
        </a>
      </div>

      <ul class="nav__menu">
        <li class="nav__li ">
          <a class="nav__a" href="teacher.html">Lägesrapport</a>
        </li>
        <li class="nav__li">
          <a class="nav__a" href="coach.html">Coachgrupp</a>
        </li>
        <li class="nav__li nav__li--active">
          <a class="nav__a" href="admin.html">Statistik</a></li>
      </ul>

      <div class="nav__user">
        <div class="nav__signedIn hidden">
          <div class="nav__userColumn--left">
            <div class="nav__email" id="user-email"></div>
            <div class="nav__sign-out" id="sign-out">Logga ut</div>
          </div>
          <div class="nav__userColumn--right">
            <div class="nav__picture" id="user-pic"></div>
          </div>
        </div>
        <div class="nav__signedOut hidden">
          <div class="nav__sign-in" id="sign-in">Logga in
            <img class="nav__sign-in-icon" src="../resources/images/login.svg" alt="login">
          </div>
        </div>
      </div>
      <div class="nav__hamburger">
        <div class="hamburger__line1"></div>
        <div class="hamburger__line2"></div>
        <div class="hamburger__line3"></div>
      </div>
    </nav>

    <main>
      <div id="before-login" class="hidden">
        <h3>Välkommen till Lägesrapporteringen!</h3>
        <p>Kom igång genom att logga in med ditt @edu.huddinge.se konto</p>
        <p>Om du saknar en kurs, elev eller något annat är fel, kontakta <a class="link"
            href="mailto:viktor.tysk@edu.huddinge.se">Viktor Tysk</a></p>
      </div>

      <div id="no-data" class="hidden">
        <h3>Ditt konto (<span class="user-email"></span>) saknar behörighet för detta!</h3>
        <p>Den här sidan visar sammanställning av statistik för skolans elever. Endast behöriga behöver tillgång till det. Kontakta <a class="link" href="mailto:viktor.tysk@edu.huddinge.se?subject=Lägesrapportering - saknar data">Viktor Tysk</a> om du behöver tillgång.</p>
      </div>
      
      <div id="no-credentials" class="hidden">
        <h3>Ditt konto (<span class="user-email"></span>) saknar behörighet för detta!</h3>
        <p>Den här sidan visar sammanställning av statistik för skolans elever. Endast behöriga behöver tillgång till det. Kontakta <a class="link" href="mailto:viktor.tysk@edu.huddinge.se?subject=Lägesrapportering - saknar behörighet">Viktor Tysk</a> om du behöver tillgång.</p>
      </div>

      <div class="main hidden" id="data">
        <div class="tabs">
          <div class="tabs__menu">
            <button class="tabs__btn tabs__btn--firstChild tabs__btn--active" data-for-tab='0'>Sök elev</button>
            <button class="tabs__btn" data-for-tab='1'>Elevstatistik</button>
            <button class="tabs__btn tabs__btn--lastChild" data-for-tab='2'>Lärarstatistik</button>
          </div>
          <div id="search" class="tabs__section tabs__section--active" data-tab='0'>
            <div class="tabs__body">
              <h3 class="header--medium">Sök på individuell elev</h3>
              <p>Klicka sedan på deras namn för att öppna rapport</p>
              <form class="search__form">
                <input class="inputText" type="text" id="search-student" />
              </form>
              <div class="search__matchList" id="matchList"></div>
              <div class="search__result mt-3 hidden">
                <button class="button button--yellow print-student" data-print-type="search">
                  Skriv ut
                </button>
                <div class="search__content my-2">
                  <div class="report">
                    <header class="report__header">
                      <div class="report__printOnly" style="display: none">
                        <span class="report__school">Östra gymnasiet - </span>
                        <span class="report__term"></span>
                      </div>
                      <h3 class="report__studentName text-uppercase"></h3>
                      <div class="report_infoBlock">
                        <strong>Klass: </strong><span class="report__studentClass"></span>
                      </div>
                      <div class="report_infoBlock">
                        <strong>Coach: </strong><span class="report__studentCoach"></span>
                      </div>
                    </header>
                    <div class="row py-1 sGrid__header mb-2">
                      <div class="col-3 mr-2 sGrid__th">Kurs</div>
                      <div class="col-2 mr-2 sGrid__th">Omdöme</div>
                      <div class="col mr-2 sGrid__th">Kommentar</div>
                    </div>
                    <div class="sGrid__body">
                    </div>
                    <div class="signatur" style="padding-top:30px; margin-left: 20px;">
                      <p style="font-weight:bold; display: inline-block">Signatur </p><span style="font-style:italic">(mynding elev el.
                        målsman)</span>
                      <span style="width : 20%; border-bottom:0.1em solid #000; display:inline-block; margin:0 15px;"></span>
                      <div style="font-weight:bold; display: inline-block;">Datum </div>
                      <span style="width : 20%; border-bottom:0.1em solid #000; display:inline-block; margin:0 15px;"></span>
                    </div>
                    
                    <div class="reflection-form mt-4">
                      <div class="report__printOnly" style="text-align: center; margin-bottom: 10px">
                        <span class="report__studentName"></span> ( <span class="report__studentClass"></span> )
                      </div>
                      <h3>Lägesanalys: tänk och skriv</h3>
                      <p>Utveckling kräver tanke, och endast <span class="text-underline">du</span> kan åstakomma det hos dig själv.</p>
                      <p class="my-2">Lägg några minuter på att besvara frågorna nedan. Dina svar kan komma att utgöra en grund för ditt utvecklingssamtal.</p>
                      <form class="mt-2">
                        <label class="form__label">Hur överensstämmer din lägesrapport med dina mål?</label>
                        <div data-form-index='0' class="report__formToDiv"></div>
                      </form>
                      <form>
                        <label class="form__label">Vilka är dina huvudsakliga utvecklingsområden?</label>
                        <div data-form-index='1' class="report__formToDiv"></div>
                      </form>
                      <form>
                        <label class="form__label">Vad är din främsta utmaning i dina studier just nu?</label>
                        <div data-form-index='2' class="report__formToDiv"></div>
                      </form>
                      <form>
                        <label class="form__label">Beskriv din studieteknik. Fungerar den? Hur skulle den kunna förbättras?</label>
                        <div data-form-index='3'class="report__formToDiv"></div>
                      </form>
                    </div>
                  </div> <!-- CLOSE .report-->
                </div>
              </div>
            </div>
          </div>
          <div id="studentStats" class="tabs__section" data-tab='1'>
            <div class="tabs__body">
              <h3 class="header--medium">
                Statistik och översikt för alla elever
              </h3>
              <h5>Klicka på klassen för att öppna en mer detaljerad vy med eleverna. Färgkodningen är relaterat till
                antal
                % av klassens omdömen som är "Tillfredsställande"</h5>
              <p><span class="option-T">Grönmarkering</span> betyder att mer än 85% av alla omdömen är
                "Tillfredsställande".</p>
              <p><span class="option-UB">Gulmarkering</span> innebär att mellan 65% och 50% är "Tillfredsställande"</p>
              <p><span class="option-IT">Rödmarkering</span> innebär att 50% eller färre av alla omdömen är
                "Tillfredsställande"
              </p>
              <div class="stuStat my-3" id="student_statistics">
                <div class="d-flex">
                  <h4 class="classRow__col--header">Klass</h4>
                  <div class="classRow__col-T classRow__col">Antal T</div>
                  <div class="classRow__col-IT classRow__col">Antal IT</div>
                  <div class="classRow__col-UB classRow__col">Antal UB</div>
                </div>
              </div>
            </div>
          </div>
          <div id="teacherStats" class="tabs__section" data-tab='2'>
            <div class="tabs__body">
              <h2 class="header--medium">
                Statistik för lärarrapportering
              </h2>
              <div class="teaStat my-2">
                <div class="teaStat__row my-3">
                  <div class="teaStat__col teaStat__col-1">
                    <header class="teaStat__header my-2">
                      <h3>
                        Omdömen
                      </h3>
                    </header>
                    <p class="teaStat__p">Totalt: <span id="asmts_total"></span></p>
                    <h4 class="teaStat__p mt-2">Rapporterade: <span id="asmts_reported"></span></h4>
                    <p class="teaStat__p">Läge - Tillfredsställande: <span id="asmts_T"></span></p>
                    <p class="teaStat__p">Läge - Icke Tillfredsställande: <span id="asmts_IT"></span></p>
                    <p class="teaStat__p">Läge - Underlag bristfälligt: <span id="asmts_UB"></span></p>
                    <h4 class="teaStat__p mt-2">Ej rapporterade: <span id="asmts_unreported"></span></h4>

                  </div>
                  <div class="teaStat__col teaStat__col-2">
                    <header class="teaStat__header my-2">
                      <h3>
                        Ej rapporterade
                      </h3>
                    </header>
                    <div class="teaStat__scrollBlock">
                      <table class="table">
                        <col style="width:80%">
                        <col style="width:20%">
                        <thead class="thead">
                          <tr class="tr">
                            <th class="th th--orange">Lärare</th>
                            <th class="th th--orange">Antal</th>
                          </tr>
                        </thead>
                        <tbody class="tbody" id="tbody">
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div id="loader-wrapper">
      <div id="loader"></div>
    </div>

    <div id="clone" style="display: none">
      <div class="card classRow">
        <div class="accordion__button d-flex">
          <h4 class="classRow__col--header"></h4>
          <div class="classRow__col-T classRow__col"></div>
          <div class="classRow__col-IT classRow__col"></div>
          <div class="classRow__col-UB classRow__col"></div>
        </div>
        <div class="accordion__content"></div>
      </div>
    </div>

  </div> <!-- CLOSE #container-->

  <div class="modal" data-modal='openStudent'>
    <section class="modal__content modal__content--large">
      <header class="modal__header">
        <h4 class="modal__title"></h4>
        <button class="close-modal modal__close modal__close--btn">&times;</a>
      </header>
      <div class="modal__body">
        <div class="report">
          <header class="report__header">
            <div class="report__printOnly" style="display: none">
              <span class="report__school">Östra gymnasiet - </span>
              <span class="report__term"></span>
            </div>
            <h3 class="report__studentName text-uppercase"></h3>
            <div class="report_infoBlock">
              <strong>Klass: </strong><span class="report__studentClass"></span>
            </div>
            <div class="report_infoBlock">
              <strong>Coach: </strong><span class="report__studentCoach"></span>
            </div>
          </header>
          <div class="row py-1 sGrid__header mb-2">
            <div class="col-3 mr-2 sGrid__th">Kurs</div>
            <div class="col-2 mr-2 sGrid__th">Omdöme</div>
            <div class="col mr-2 sGrid__th">Kommentar</div>
          </div>
          <div class="sGrid__body">
          </div>
          <div class="signatur" style="padding-top:30px; margin-left: 20px;">
            <p style="font-weight:bold; display: inline-block">Signatur </p><span style="font-style:italic">(mynding elev el.
              målsman)</span>
            <span style="width : 20%; border-bottom:0.1em solid #000; display:inline-block; margin:0 15px;"></span>
            <div style="font-weight:bold; display: inline-block;">Datum </div>
            <span style="width : 20%; border-bottom:0.1em solid #000; display:inline-block; margin:0 15px;"></span>
          </div>
          
          <div class="reflection-form mt-4">
            <div class="report__printOnly" style="text-align: center; margin-bottom: 10px">
              <span class="report__studentName"></span> ( <span class="report__studentClass"></span> )
            </div>
            <h3>Lägesanalys: tänk och skriv</h3>
            <p>Utveckling kräver tanke, och endast <span class="text-underline">du</span> kan åstakomma det hos dig själv.</p>
            <p class="my-2">Lägg några minuter på att besvara frågorna nedan. Dina svar kan komma att utgöra en grund för ditt utvecklingssamtal.</p>
            <form class="mt-2">
              <label class="form__label">Hur överensstämmer din lägesrapport med dina mål?</label>
              <div data-form-index='0' class="report__formToDiv"></div>
            </form>
            <form>
              <label class="form__label">Vilka är dina huvudsakliga utvecklingsområden?</label>
              <div data-form-index='1' class="report__formToDiv"></div>
            </form>
            <form>
              <label class="form__label">Vad är din främsta utmaning i dina studier just nu?</label>
              <div data-form-index='2' class="report__formToDiv"></div>
            </form>
            <form>
              <label class="form__label">Beskriv din studieteknik. Fungerar den? Hur skulle den kunna förbättras?</label>
              <div data-form-index='3'class="report__formToDiv"></div>
            </form>
          </div>
        </div> <!-- CLOSE .report-->
      </div>
      <footer class="modal__footer">
        <button class="button button--yellow print-student" data-print-type="modal">Skriv ut</button>
        <button class="button button--red close-modal">Stäng</button>
      </footer>
    </section>
  </div> <!-- CLOSE .modal-->



  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="/__/firebase/7.19.1/firebase-app.js"></script>
  <!-- Add Firebase products -->
  <script src="/__/firebase/7.19.1/firebase-auth.js"></script>
  <script src="/__/firebase/7.19.1/firebase-firestore.js"></script>
  <!-- Initiate FB script-->
  <script src="/__/firebase/init.js"></script>
  <!-- Rest-->
  <script type="text/javascript" src="js/firebase.js"></script>
  <script type="text/javascript" src="js/core.js"></script>
  <script type="text/javascript" src="js/statistics.js"></script>

  <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js" type="text/javascript"></script> -->


</body>

</html>